template:
  - switch:
      - name: Nursery heater
        unique_id: nursery_heater
        state: "{{ states('climate.nursery_heater') == 'heat' }}"
        turn_on:
          action: climate.turn_on
          target:
            entity_id: climate.nursery_heater
        turn_off:
          action: climate.turn_off
          target:
            entity_id: climate.nursery_heater
        availability: "{{ has_value('climate.nursery_heater') }}"
      - name: Office heater
        unique_id: office_heater
        state: >
          {{
          states('switch.office_heater_dumb') == 'on' and 
          states('sensor.office_heater_power')|float(0) > 250
          }}
        turn_on:
          action: switch.turn_on
          target:
            entity_id: switch.office_heater_dumb
        turn_off:
          action: switch.turn_off
          target:
            entity_id: switch.office_heater_dumb
        availability: "{{ has_value('switch.office_heater_dumb') and has_value('sensor.office_heater_power')}}"

      - name: Bedroom humidifier
        unique_id: bedroom_humidifier
        state: "{{ states('humidifier.bedroom') != 'off' }}"
        turn_on:
          action: humidifier.turn_on
          target:
            entity_id: humidifier.bedroom
        turn_off:
          action: humidifier.turn_off
          target:
            entity_id: humidifier.bedroom
        availability: "{{ has_value('humidifier.bedroom') }}"
      - name: Nursery humidifier
        unique_id: nursery_humidifier
        state: "{{ states('humidifier.nursery') != 'off' }}"
        turn_on:
          action: humidifier.turn_on
          target:
            entity_id: humidifier.nursery
        turn_off:
          action: humidifier.turn_off
          target:
            entity_id: humidifier.nursery
        availability: "{{ has_value('humidifier.nursery') }}"

      - name: Living room aircon
        unique_id: living_room_aircon
        state: "{{ states('climate.living_room_aircon') != 'off' }}"
        turn_on:
          action: climate.turn_on
          target:
            entity_id: climate.living_room_aircon
        turn_off:
          action: climate.turn_off
          target:
            entity_id: climate.living_room_aircon
        availability: "{{ has_value('climate.living_room_aircon') }}"
      - name: Dining room aircon
        unique_id: dining_room_aircon
        state: "{{ states('climate.dining_room_aircon') != 'off' }}"
        turn_on:
          action: climate.turn_on
          target:
            entity_id: climate.dining_room_aircon
        turn_off:
          action: climate.turn_off
          target:
            entity_id: climate.dining_room_aircon
        availability: "{{ has_value('climate.dining_room_aircon') }}"
      - name: Bedroom aircon
        unique_id: bedroom_aircon
        state: "{{ states('climate.bedroom_aircon') != 'off' }}"
        turn_on:
          action: climate.turn_on
          target:
            entity_id: climate.bedroom_aircon
        turn_off:
          action: climate.turn_off
          target:
            entity_id: climate.bedroom_aircon
        availability: "{{ has_value('climate.bedroom_aircon') }}"
