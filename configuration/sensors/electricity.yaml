- platform: integration
  name: Total energy consumed
  source: sensor.power_meter_power_load_consumed

- platform: influxdb
  host: a0d7b954-influxdb
  database: homeassistant
  username: homeassistant
  password: !secret influx_password
  queries:
    - name: Total energy cost last week
      where: '"entity_id" = ''total_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Total energy cost last month
      where: '"entity_id" = ''total_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Total energy cost last year
      where: '"entity_id" = ''total_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Total energy cost savings last week
      where: '"entity_id" = ''total_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Total energy cost savings last month
      where: '"entity_id" = ''total_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Total energy cost savings last year
      where: '"entity_id" = ''total_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Lights energy cost last week
      where: '"entity_id" = ''lights_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Lights energy cost last month
      where: '"entity_id" = ''lights_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Lights energy cost last year
      where: '"entity_id" = ''lights_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Lights energy cost savings last week
      where: '"entity_id" = ''lights_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Lights energy cost savings last month
      where: '"entity_id" = ''lights_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Lights energy cost savings last year
      where: '"entity_id" = ''lights_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Living room aircon energy cost last week
      where: '"entity_id" = ''living_room_aircon_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Living room aircon energy cost last month
      where: '"entity_id" = ''living_room_aircon_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Living room aircon energy cost last year
      where: '"entity_id" = ''living_room_aircon_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Living room aircon energy cost savings last week
      where: '"entity_id" = ''living_room_aircon_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Living room aircon energy cost savings last month
      where: '"entity_id" = ''living_room_aircon_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Living room aircon energy cost savings last year
      where: '"entity_id" = ''living_room_aircon_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Dining room aircon energy cost last week
      where: '"entity_id" = ''dining_room_aircon_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dining room aircon energy cost last month
      where: '"entity_id" = ''dining_room_aircon_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dining room aircon energy cost last year
      where: '"entity_id" = ''dining_room_aircon_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dining room aircon energy cost savings last week
      where: '"entity_id" = ''dining_room_aircon_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dining room aircon energy cost savings last month
      where: '"entity_id" = ''dining_room_aircon_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dining room aircon energy cost savings last year
      where: '"entity_id" = ''dining_room_aircon_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Bedroom aircon energy cost last week
      where: '"entity_id" = ''bedroom_aircon_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Bedroom aircon energy cost last month
      where: '"entity_id" = ''bedroom_aircon_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Bedroom aircon energy cost last year
      where: '"entity_id" = ''bedroom_aircon_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Bedroom aircon energy cost savings last week
      where: '"entity_id" = ''bedroom_aircon_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Bedroom aircon energy cost savings last month
      where: '"entity_id" = ''bedroom_aircon_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Bedroom aircon energy cost savings last year
      where: '"entity_id" = ''bedroom_aircon_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Office heater energy cost last week
      where: '"entity_id" = ''office_heater_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office heater energy cost last month
      where: '"entity_id" = ''office_heater_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office heater energy cost last year
      where: '"entity_id" = ''office_heater_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office heater energy cost savings last week
      where: '"entity_id" = ''office_heater_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office heater energy cost savings last month
      where: '"entity_id" = ''office_heater_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office heater energy cost savings last year
      where: '"entity_id" = ''office_heater_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Nursery heater energy cost last week
      where: '"entity_id" = ''nursery_heater_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Nursery heater energy cost last month
      where: '"entity_id" = ''nursery_heater_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Nursery heater energy cost last year
      where: '"entity_id" = ''nursery_heater_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Nursery heater energy cost savings last week
      where: '"entity_id" = ''nursery_heater_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Nursery heater energy cost savings last month
      where: '"entity_id" = ''nursery_heater_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Nursery heater energy cost savings last year
      where: '"entity_id" = ''nursery_heater_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Fans energy cost last week
      where: '"entity_id" = ''fans_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fans energy cost last month
      where: '"entity_id" = ''fans_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fans energy cost last year
      where: '"entity_id" = ''fans_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fans energy cost savings last week
      where: '"entity_id" = ''fans_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fans energy cost savings last month
      where: '"entity_id" = ''fans_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fans energy cost savings last year
      where: '"entity_id" = ''fans_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Humidifiers energy cost last week
      where: '"entity_id" = ''humidifiers_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Humidifiers energy cost last month
      where: '"entity_id" = ''humidifiers_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Humidifiers energy cost last year
      where: '"entity_id" = ''humidifiers_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Humidifiers energy cost savings last week
      where: '"entity_id" = ''humidifiers_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Humidifiers energy cost savings last month
      where: '"entity_id" = ''humidifiers_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Humidifiers energy cost savings last year
      where: '"entity_id" = ''humidifiers_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Kitchen appliances energy cost last week
      where: '"entity_id" = ''kitchen_appliances_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Kitchen appliances energy cost last month
      where: '"entity_id" = ''kitchen_appliances_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Kitchen appliances energy cost last year
      where: '"entity_id" = ''kitchen_appliances_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Kitchen appliances energy cost savings last week
      where: '"entity_id" = ''kitchen_appliances_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Kitchen appliances energy cost savings last month
      where: '"entity_id" = ''kitchen_appliances_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Kitchen appliances energy cost savings last year
      where: '"entity_id" = ''kitchen_appliances_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Dishwasher energy cost last week
      where: '"entity_id" = ''dishwasher_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dishwasher energy cost last month
      where: '"entity_id" = ''dishwasher_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dishwasher energy cost last year
      where: '"entity_id" = ''dishwasher_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dishwasher energy cost savings last week
      where: '"entity_id" = ''dishwasher_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dishwasher energy cost savings last month
      where: '"entity_id" = ''dishwasher_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dishwasher energy cost savings last year
      where: '"entity_id" = ''dishwasher_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Fridge energy cost last week
      where: '"entity_id" = ''fridge_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fridge energy cost last month
      where: '"entity_id" = ''fridge_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fridge energy cost last year
      where: '"entity_id" = ''fridge_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fridge energy cost savings last week
      where: '"entity_id" = ''fridge_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fridge energy cost savings last month
      where: '"entity_id" = ''fridge_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Fridge energy cost savings last year
      where: '"entity_id" = ''fridge_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Freezer, mini fridge, routers energy cost last week
      where: '"entity_id" = ''freezer_mini_fridge_routers_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Freezer, mini fridge, routers energy cost last month
      where: '"entity_id" = ''freezer_mini_fridge_routers_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Freezer, mini fridge, routers energy cost last year
      where: '"entity_id" = ''freezer_mini_fridge_routers_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Freezer, mini fridge, routers energy cost savings last week
      where: '"entity_id" = ''freezer_mini_fridge_routers_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Freezer, mini fridge, routers energy cost savings last month
      where: '"entity_id" = ''freezer_mini_fridge_routers_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Freezer, mini fridge, routers energy cost savings last year
      where: '"entity_id" = ''freezer_mini_fridge_routers_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Washer energy cost last week
      where: '"entity_id" = ''washer_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Washer energy cost last month
      where: '"entity_id" = ''washer_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Washer energy cost last year
      where: '"entity_id" = ''washer_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Washer energy cost savings last week
      where: '"entity_id" = ''washer_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Washer energy cost savings last month
      where: '"entity_id" = ''washer_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Washer energy cost savings last year
      where: '"entity_id" = ''washer_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Dryer energy cost last week
      where: '"entity_id" = ''dryer_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dryer energy cost last month
      where: '"entity_id" = ''dryer_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dryer energy cost last year
      where: '"entity_id" = ''dryer_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dryer energy cost savings last week
      where: '"entity_id" = ''dryer_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dryer energy cost savings last month
      where: '"entity_id" = ''dryer_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Dryer energy cost savings last year
      where: '"entity_id" = ''dryer_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: TV, speakers, PC, Home Assistant, router relay, security hub energy cost last week
      where: '"entity_id" = ''tv_speakers_pc_home_assistant_router_relay_security_hub_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: TV, speakers, PC, Home Assistant, router relay, security hub energy cost last month
      where: '"entity_id" = ''tv_speakers_pc_home_assistant_router_relay_security_hub_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: TV, speakers, PC, Home Assistant, router relay, security hub energy cost last year
      where: '"entity_id" = ''tv_speakers_pc_home_assistant_router_relay_security_hub_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: TV, speakers, PC, Home Assistant, router relay, security hub energy cost savings last week
      where: '"entity_id" = ''tv_speakers_pc_home_assistant_router_relay_security_hub_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: TV, speakers, PC, Home Assistant, router relay, security hub energy cost savings last month
      where: '"entity_id" = ''tv_speakers_pc_home_assistant_router_relay_security_hub_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: TV, speakers, PC, Home Assistant, router relay, security hub energy cost savings last year
      where: '"entity_id" = ''tv_speakers_pc_home_assistant_router_relay_security_hub_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Water heater, oven & stove, guest suite, garage, all other energy cost last week
      where: '"entity_id" = ''water_heater_oven_stove_guest_suite_garage_all_other_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Water heater, oven & stove, guest suite, garage, all other energy cost last month
      where: '"entity_id" = ''water_heater_oven_stove_guest_suite_garage_all_other_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Water heater, oven & stove, guest suite, garage, all other energy cost last year
      where: '"entity_id" = ''water_heater_oven_stove_guest_suite_garage_all_other_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Water heater, oven & stove, guest suite, garage, all other energy cost savings last week
      where: '"entity_id" = ''water_heater_oven_stove_guest_suite_garage_all_other_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Water heater, oven & stove, guest suite, garage, all other energy cost savings last month
      where: '"entity_id" = ''water_heater_oven_stove_guest_suite_garage_all_other_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Water heater, oven & stove, guest suite, garage, all other energy cost savings last year
      where: '"entity_id" = ''water_heater_oven_stove_guest_suite_garage_all_other_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Office desk, computer & monitor, cooler, fish tank energy cost last week
      where: '"entity_id" = ''office_desk_computer_monitor_cooler_fish_tank_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office desk, computer & monitor, cooler, fish tank energy cost last month
      where: '"entity_id" = ''office_desk_computer_monitor_cooler_fish_tank_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office desk, computer & monitor, cooler, fish tank energy cost last year
      where: '"entity_id" = ''office_desk_computer_monitor_cooler_fish_tank_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office desk, computer & monitor, cooler, fish tank energy cost savings last week
      where: '"entity_id" = ''office_desk_computer_monitor_cooler_fish_tank_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office desk, computer & monitor, cooler, fish tank energy cost savings last month
      where: '"entity_id" = ''office_desk_computer_monitor_cooler_fish_tank_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Office desk, computer & monitor, cooler, fish tank energy cost savings last year
      where: '"entity_id" = ''office_desk_computer_monitor_cooler_fish_tank_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Phone chargers energy cost last week
      where: '"entity_id" = ''phone_chargers_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Phone chargers energy cost last month
      where: '"entity_id" = ''phone_chargers_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Phone chargers energy cost last year
      where: '"entity_id" = ''phone_chargers_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Phone chargers energy cost savings last week
      where: '"entity_id" = ''phone_chargers_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Phone chargers energy cost savings last month
      where: '"entity_id" = ''phone_chargers_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Phone chargers energy cost savings last year
      where: '"entity_id" = ''phone_chargers_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Sensors energy cost last week
      where: '"entity_id" = ''sensors_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Sensors energy cost last month
      where: '"entity_id" = ''sensors_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Sensors energy cost last year
      where: '"entity_id" = ''sensors_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Sensors energy cost savings last week
      where: '"entity_id" = ''sensors_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Sensors energy cost savings last month
      where: '"entity_id" = ''sensors_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Sensors energy cost savings last year
      where: '"entity_id" = ''sensors_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Paludarium, picture frame, camera energy cost last week
      where: '"entity_id" = ''paludarium_picture_frame_camera_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Paludarium, picture frame, camera energy cost last month
      where: '"entity_id" = ''paludarium_picture_frame_camera_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Paludarium, picture frame, camera energy cost last year
      where: '"entity_id" = ''paludarium_picture_frame_camera_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Paludarium, picture frame, camera energy cost savings last week
      where: '"entity_id" = ''paludarium_picture_frame_camera_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Paludarium, picture frame, camera energy cost savings last month
      where: '"entity_id" = ''paludarium_picture_frame_camera_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Paludarium, picture frame, camera energy cost savings last year
      where: '"entity_id" = ''paludarium_picture_frame_camera_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

    - name: Standby energy cost last week
      where: '"entity_id" = ''standby_energy_cost'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Standby energy cost last month
      where: '"entity_id" = ''standby_energy_cost'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Standby energy cost last year
      where: '"entity_id" = ''standby_energy_cost'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Standby energy cost savings last week
      where: '"entity_id" = ''standby_energy_cost_savings'' AND time >= now() - 7d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Standby energy cost savings last month
      where: '"entity_id" = ''standby_energy_cost_savings'' AND time >= now() - 30d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $
    - name: Standby energy cost savings last year
      where: '"entity_id" = ''standby_energy_cost_savings'' AND time >= now() - 365d'
      group_function: first
      measurement: '"$"'
      unit_of_measurement: $

- platform: integration
  name: Total energy cost
  source: sensor.total_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Total energy cost savings
  source: sensor.total_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Lights energy cost
  source: sensor.lights_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Lights energy cost savings
  source: sensor.lights_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Living room aircon energy cost
  source: sensor.living_room_aircon_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Living room aircon energy cost savings
  source: sensor.living_room_aircon_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Dining room aircon energy cost
  source: sensor.dining_room_aircon_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Dining room aircon energy cost savings
  source: sensor.dining_room_aircon_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Bedroom aircon energy cost
  source: sensor.bedroom_aircon_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Bedroom aircon energy cost savings
  source: sensor.bedroom_aircon_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Office heater energy cost
  source: sensor.office_heater_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Office heater energy cost savings
  source: sensor.office_heater_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Nursery heater energy cost
  source: sensor.nursery_heater_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Nursery heater energy cost savings
  source: sensor.nursery_heater_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Fans energy cost
  source: sensor.fans_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Fans energy cost savings
  source: sensor.fans_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Humidifiers energy cost
  source: sensor.humidifiers_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Humidifiers energy cost savings
  source: sensor.humidifiers_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Kitchen appliances energy cost
  source: sensor.kitchen_appliances_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Kitchen appliances energy cost savings
  source: sensor.kitchen_appliances_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Dishwasher energy cost
  source: sensor.dishwasher_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Dishwasher energy cost savings
  source: sensor.dishwasher_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Fridge energy cost
  source: sensor.fridge_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Fridge energy cost savings
  source: sensor.fridge_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Freezer, mini fridge, routers energy cost
  source: sensor.freezer_mini_fridge_routers_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Freezer, mini fridge, routers energy cost savings
  source: sensor.freezer_mini_fridge_routers_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Washer energy cost
  source: sensor.washer_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Washer energy cost savings
  source: sensor.washer_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Dryer energy cost
  source: sensor.dryer_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Dryer energy cost savings
  source: sensor.dryer_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: TV, speakers, PC, Home Assistant, router relay, security hub energy cost
  source: sensor.tv_speakers_pc_home_assistant_router_relay_security_hub_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: TV, speakers, PC, Home Assistant, router relay, security hub energy cost savings
  source: sensor.tv_speakers_pc_home_assistant_router_relay_security_hub_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Water heater, oven & stove, guest suite, garage, all other energy cost
  source: sensor.water_heater_oven_stove_guest_suite_garage_all_other_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Water heater, oven & stove, guest suite, garage, all other energy cost savings
  source: sensor.water_heater_oven_stove_guest_suite_garage_all_other_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Office desk, computer & monitor, cooler, fish tank energy cost
  source: sensor.office_desk_computer_monitor_cooler_fish_tank_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Office desk, computer & monitor, cooler, fish tank energy cost savings
  source: sensor.office_desk_computer_monitor_cooler_fish_tank_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Phone chargers energy cost
  source: sensor.phone_chargers_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Phone chargers energy cost savings
  source: sensor.phone_chargers_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Sensors energy cost
  source: sensor.sensors_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Sensors energy cost savings
  source: sensor.sensors_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Paludarium, picture frame, camera energy cost
  source: sensor.paludarium_picture_frame_camera_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Paludarium, picture frame, camera energy cost savings
  source: sensor.paludarium_picture_frame_camera_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: integration
  name: Standby energy cost
  source: sensor.standby_power_cost
  method: left
  max_sub_interval:
    minutes: 1
- platform: integration
  name: Standby energy cost savings
  source: sensor.standby_power_cost_savings
  method: left
  max_sub_interval:
    minutes: 1

- platform: derivative
  name: Dan's phone charger power
  source: sensor.dan_s_phone_charger_energy
  unit: kW
  time_window: 00:15:00

- platform: derivative
  name: Washer power
  source: sensor.washer_energy
  unit: kW
  time_window: 00:15:00

- platform: derivative
  name: Dryer power
  source: sensor.dryer_energy
  unit: kW
  time_window: 00:15:00
